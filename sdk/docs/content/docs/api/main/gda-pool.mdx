---
title: GDA Pool
description: API reference for GDA Pool contract interactions
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

The GDA Pool contract represents a distribution pool where tokens can be distributed to multiple members based on their allocated units.

## Read Functions

### getUnits

Get the number of units allocated to a specific member.

<Tabs items={["/hook", "/abi", "/action"]}>
<Tab value="/hook">
```tsx twoslash
import { useReadGdaPool } from "@sfpro/sdk/hook" // [!code focus]

const { data: units } = useReadGdaPool({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "getUnits", // [!code focus]
  args: ["0x..."] // Member address // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/abi">
```ts twoslash
import { gdaPoolAbi } from "@sfpro/sdk/abi" // [!code focus]
import { createPublicClient, http } from "viem"
import { mainnet } from "viem/chains"

const client = createPublicClient({
  chain: mainnet,
  transport: http()
})

const units = await client.readContract({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  abi: gdaPoolAbi, // [!code focus]
  functionName: "getUnits", // [!code focus]
  args: ["0x..."] // Member address // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/action">
```ts twoslash
import { readGdaPool } from "@sfpro/sdk/action" // [!code focus]
import { createConfig } from "@wagmi/core"
import { http } from "viem"
import { mainnet } from "viem/chains"

const config = createConfig({
  chains: [mainnet],
  transports: { [mainnet.id]: http() }
})

const units = await readGdaPool(config, { // [!code focus]
  chainId: mainnet.id, // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "getUnits", // [!code focus]
  args: ["0x..."] // Member address // [!code focus]
}) // [!code focus]
```
</Tab>
</Tabs>

### getTotalUnits

Get the total number of units in the pool.

<Tabs items={["/hook", "/abi", "/action"]}>
<Tab value="/hook">
```tsx twoslash
import { useReadGdaPool } from "@sfpro/sdk/hook" // [!code focus]

const { data: totalUnits } = useReadGdaPool({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "getTotalUnits" // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/abi">
```ts twoslash
import { gdaPoolAbi } from "@sfpro/sdk/abi" // [!code focus]
import { createPublicClient, http } from "viem"
import { mainnet } from "viem/chains"

const client = createPublicClient({
  chain: mainnet,
  transport: http()
})

const totalUnits = await client.readContract({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  abi: gdaPoolAbi, // [!code focus]
  functionName: "getTotalUnits" // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/action">
```ts twoslash
import { readGdaPool } from "@sfpro/sdk/action" // [!code focus]
import { createConfig } from "@wagmi/core"
import { http } from "viem"
import { mainnet } from "viem/chains"

const config = createConfig({
  chains: [mainnet],
  transports: { [mainnet.id]: http() }
})

const totalUnits = await readGdaPool(config, { // [!code focus]
  chainId: mainnet.id, // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "getTotalUnits" // [!code focus]
}) // [!code focus]
```
</Tab>
</Tabs>

### getClaimableNow

Get the amount of tokens claimable by a member at the current moment.

<Tabs items={["/hook", "/abi", "/action"]}>
<Tab value="/hook">
```tsx twoslash
import { useReadGdaPool } from "@sfpro/sdk/hook" // [!code focus]

const { data: claimable } = useReadGdaPool({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "getClaimableNow", // [!code focus]
  args: ["0x..."] // Member address // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/abi">
```ts twoslash
import { gdaPoolAbi } from "@sfpro/sdk/abi" // [!code focus]
import { createPublicClient, http } from "viem"
import { mainnet } from "viem/chains"

const client = createPublicClient({
  chain: mainnet,
  transport: http()
})

const claimable = await client.readContract({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  abi: gdaPoolAbi, // [!code focus]
  functionName: "getClaimableNow", // [!code focus]
  args: ["0x..."] // Member address // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/action">
```ts twoslash
import { readGdaPool } from "@sfpro/sdk/action" // [!code focus]
import { createConfig } from "@wagmi/core"
import { http } from "viem"
import { mainnet } from "viem/chains"

const config = createConfig({
  chains: [mainnet],
  transports: { [mainnet.id]: http() }
})

const claimable = await readGdaPool(config, { // [!code focus]
  chainId: mainnet.id, // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "getClaimableNow", // [!code focus]
  args: ["0x..."] // Member address // [!code focus]
}) // [!code focus]
```
</Tab>
</Tabs>

### admin

Get the admin address of the pool.

<Tabs items={["/hook", "/abi", "/action"]}>
<Tab value="/hook">
```tsx twoslash
import { useReadGdaPool } from "@sfpro/sdk/hook" // [!code focus]

const { data: admin } = useReadGdaPool({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "admin" // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/abi">
```ts twoslash
import { gdaPoolAbi } from "@sfpro/sdk/abi" // [!code focus]
import { createPublicClient, http } from "viem"
import { mainnet } from "viem/chains"

const client = createPublicClient({
  chain: mainnet,
  transport: http()
})

const admin = await client.readContract({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  abi: gdaPoolAbi, // [!code focus]
  functionName: "admin" // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/action">
```ts twoslash
import { readGdaPool } from "@sfpro/sdk/action" // [!code focus]
import { createConfig } from "@wagmi/core"
import { http } from "viem"
import { mainnet } from "viem/chains"

const config = createConfig({
  chains: [mainnet],
  transports: { [mainnet.id]: http() }
})

const admin = await readGdaPool(config, { // [!code focus]
  chainId: mainnet.id, // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "admin" // [!code focus]
}) // [!code focus]
```
</Tab>
</Tabs>

## Write Functions

### updateMemberUnits

Update the units allocated to a pool member (admin only).

<Tabs items={["/hook", "/abi", "/action"]}>
<Tab value="/hook">
```tsx twoslash
import { useWriteGdaPool } from "@sfpro/sdk/hook" // [!code focus]

const { writeContract: updateUnits } = useWriteGdaPool({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "updateMemberUnits", // [!code focus]
  args: ["0x...", 100n, "0x"] // Member, units, user data // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/abi">
```ts twoslash
import { gdaPoolAbi } from "@sfpro/sdk/abi" // [!code focus]
import { createWalletClient, http } from "viem"
import { mainnet } from "viem/chains"
import { privateKeyToAccount } from "viem/accounts"

const account = privateKeyToAccount(process.env.PRIVATE_KEY as `0x${string}`)
const walletClient = createWalletClient({
  account,
  chain: mainnet,
  transport: http()
})

const hash = await walletClient.writeContract({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  abi: gdaPoolAbi, // [!code focus]
  functionName: "updateMemberUnits", // [!code focus]
  args: [ // [!code focus]
    "0x...", // Member address // [!code focus]
    100n,    // New units amount // [!code focus]
    "0x"     // User data // [!code focus]
  ] // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/action">
```ts twoslash
import { writeGdaPool } from "@sfpro/sdk/action" // [!code focus]
import { createConfig } from "@wagmi/core"
import { createWalletClient, http } from "viem"
import { mainnet } from "viem/chains"
import { privateKeyToAccount } from "viem/accounts"

const account = privateKeyToAccount(process.env.PRIVATE_KEY as `0x${string}`)
const config = createConfig({
  chains: [mainnet],
  client({ chain }) {
    return createWalletClient({ account, chain, transport: http() })
  },
})

const hash = await writeGdaPool(config, { // [!code focus]
  chainId: mainnet.id, // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "updateMemberUnits", // [!code focus]
  args: ["0x...", 100n, "0x"] // Member, units, user data // [!code focus]
}) // [!code focus]
```
</Tab>
</Tabs>

### claimAll

Claim all available tokens for the calling member.

<Tabs items={["/hook", "/abi", "/action"]}>
<Tab value="/hook">
```tsx twoslash
import { useWriteGdaPool } from "@sfpro/sdk/hook" // [!code focus]

const { writeContract: claimAll } = useWriteGdaPool({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "claimAll" // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/abi">
```ts twoslash
import { gdaPoolAbi } from "@sfpro/sdk/abi" // [!code focus]
import { createWalletClient, http } from "viem"
import { mainnet } from "viem/chains"
import { privateKeyToAccount } from "viem/accounts"

const account = privateKeyToAccount(process.env.PRIVATE_KEY as `0x${string}`)
const walletClient = createWalletClient({
  account,
  chain: mainnet,
  transport: http()
})

const hash = await walletClient.writeContract({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  abi: gdaPoolAbi, // [!code focus]
  functionName: "claimAll" // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/action">
```ts twoslash
import { writeGdaPool } from "@sfpro/sdk/action" // [!code focus]
import { createConfig } from "@wagmi/core"
import { createWalletClient, http } from "viem"
import { mainnet } from "viem/chains"
import { privateKeyToAccount } from "viem/accounts"

const account = privateKeyToAccount(process.env.PRIVATE_KEY as `0x${string}`)
const config = createConfig({
  chains: [mainnet],
  client({ chain }) {
    return createWalletClient({ account, chain, transport: http() })
  },
})

const hash = await writeGdaPool(config, { // [!code focus]
  chainId: mainnet.id, // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "claimAll" // [!code focus]
}) // [!code focus]
```
</Tab>
</Tabs>

### transferAdmin

Transfer admin rights to another address (admin only).

<Tabs items={["/hook", "/abi", "/action"]}>
<Tab value="/hook">
```tsx twoslash
import { useWriteGdaPool } from "@sfpro/sdk/hook" // [!code focus]

const { writeContract: transferAdmin } = useWriteGdaPool({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "transferAdmin", // [!code focus]
  args: ["0x..."] // New admin address // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/abi">
```ts twoslash
import { gdaPoolAbi } from "@sfpro/sdk/abi" // [!code focus]
import { createWalletClient, http } from "viem"
import { mainnet } from "viem/chains"
import { privateKeyToAccount } from "viem/accounts"

const account = privateKeyToAccount(process.env.PRIVATE_KEY as `0x${string}`)
const walletClient = createWalletClient({
  account,
  chain: mainnet,
  transport: http()
})

const hash = await walletClient.writeContract({ // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  abi: gdaPoolAbi, // [!code focus]
  functionName: "transferAdmin", // [!code focus]
  args: ["0x..."] // New admin address // [!code focus]
}) // [!code focus]
```
</Tab>

<Tab value="/action">
```ts twoslash
import { writeGdaPool } from "@sfpro/sdk/action" // [!code focus]
import { createConfig } from "@wagmi/core"
import { createWalletClient, http } from "viem"
import { mainnet } from "viem/chains"
import { privateKeyToAccount } from "viem/accounts"

const account = privateKeyToAccount(process.env.PRIVATE_KEY as `0x${string}`)
const config = createConfig({
  chains: [mainnet],
  client({ chain }) {
    return createWalletClient({ account, chain, transport: http() })
  },
})

const hash = await writeGdaPool(config, { // [!code focus]
  chainId: mainnet.id, // [!code focus]
  address: "0x...", // Pool address // [!code focus]
  functionName: "transferAdmin", // [!code focus]
  args: ["0x..."] // New admin address // [!code focus]
}) // [!code focus]
```
</Tab>
</Tabs>

## Key Notes

- **Admin Only**: Only the pool admin can update member units
- **Proportional Distribution**: Members receive tokens based on their units ratio
- **Claiming**: Members can claim accumulated tokens at any time
- **Connection**: Members should connect to pools for automatic claiming